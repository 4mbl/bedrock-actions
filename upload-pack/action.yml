name: 'Upload Pack as Artifact'
description: 'Uploads a pack as an artifact to be used in other workflows'
inputs:
  pack-name:
    description: 'Name of the pack to upload'
    required: true

outputs:
  artifact-url:
    description: 'URL of the uploaded artifact'
    value: ${{ steps.upload-artifact.outputs.artifact-url }}

runs:
  using: 'composite'
  steps:
    - name: Upload Artifact
      id: upload-artifact
      uses: actions/upload-artifact@330a01c490aca151604b8cf639adc76d48f6c5d4 # v5.0.0
      with:
        name: ${{ inputs.pack-name }}
        path: ${{ inputs.pack-name }}

    - name: Output Artifact URL
      id: output-artifact-url
      run: echo "artifact-url=${{ steps.upload-artifact.outputs.artifact-url }}" >> "$GITHUB_OUTPUT"
      shell: bash
